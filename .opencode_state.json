# Celestron AUX Driver - Session State

## Current Session Info
- **Session ID**: ses_47104f7d2ffe9GNkYTWiH5nAAf
- **Last Updated**: 2026-01-06
- **Current Phase**: Phase 6 - Safety & Accessories

## Project Progress

### Completed Tasks âœ…
- **Phase 1**: Repository initialization
- **Phase 2**: Simulator headless mode & TCP support
- **Phase 2.5**: Functional Test Suite
- **Phase 3**: Astronomical Transformations
- **Phase 3.5**: Code Documentation
- **Phase 4**: Anti-backlash GoTo logic
- **Phase 5**: Advanced Predictive Tracking (2nd Order)
- **Phase 5.5**: Modern TUI & Alignment System
  - Implemented Textual TUI for simulator
  - Implemented 3-point Matrix Alignment system
  - Added stabilized velocity monitoring (Motor & Sky) with sliding window
  - Added debug mode (-d) for real-time telemetry logging

### In Progress ðŸ”„
- **Phase 6**: Safety features
  - Planning Slew Limits and Cord Wrap Prevention

### Pending Tasks ðŸ“‹
1. Implement Slew Limits (ALT/AZ min/max)
2. Implement Cord Wrap Prevention logic
3. Add Focuser support (MC_FOCUS targets)
4. Add GPS module support

## Technical Notes
- Communication Lock: `AUXCommunicator` now serializes all bus traffic.
- Tracking Algorithm: `w(t) = (pos(t+dt) - pos(t-dt)) / (2*dt)`.
- Anti-backlash: Intermediate target is `target - sign(v) * offset`.

## Repository State
- **Branch**: main
- **Last Commit**: e9cd8ad - Fix deprecated function calls and test wrap-around logic
- **Working Directory**: /home/jochym/Projects/INDI/auxdrv
- **Git Status**: Changes ready for commit (v0.4.0)
